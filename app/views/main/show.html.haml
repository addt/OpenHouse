%h1 OpenHouse Homepage
%p= flash[:notice] if flash[:notice]

<br>
%h3 Search for available homes near you
= form_tag search_path, :method => :get do
  = text_field :location, 'address', :placeholder=>"Address"
  = text_field :location, 'city', :placeholder=>"City"
  = text_field :location, 'state', :placeholder=>"State"
  = submit_tag 'Search'
<br>

%div(style='width: 800px;')
  %div(id="map" style="width: 800px; height: 400px;")
  
:javascript
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers([
        {
          "lat": 0,
          "lng": 0,
          "picture": {
            "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
            "width":  32,
            "height": 32
          },
          "infowindow": "hello!"
        }
      ]);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });

- if logged_in?
  = link_to "View Profile", user_path(@user)
  <br>
  = link_to 'Edit Profile', edit_user_path
  <br>
  = link_to 'Log Out', logout_path, method: :delete
- else
  = link_to 'Log In', login_path
  <br>
  = link_to 'Sign Up', new_user_path
